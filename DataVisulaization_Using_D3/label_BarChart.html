<!DOCTYPE html>

<head>
    <meta name="description" content="Drawing shapes" />
    <meta charset="utf-8">
    <title>Draawing SVG shapes</title>
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>

</head>

<body>
    <script>
        var w = 300;
        var h = 100;
        var padding = 2;
        var dataset = [5, 10, 15, 20, 25,11,24,18,17,3,21];
        var svg = d3.select("body")
            .append("svg")
            .attr("widht", w)
            .attr("height", h);

        function colorPixel(v){
            if(v<=20){ return "#666666"; }
            else if(v>20){return "#FF0034"}
        }

        svg.selectAll("rect")
            .data(dataset)
            .enter()
            .append("rect")
            .attr({
                x : function (d, i) {return i * (w / dataset.length);},
                y :  function (d) {return h - (d*4);},
                width : w / dataset.length - padding,
                height :  function (d) {return d * 4;},
                fill : function(d){return colorPixel(d);}
            });


        svg.selectAll("text")
        .data(dataset)
        .enter()
        .append("text")
        .text(function(d){return d;})
        .attr({
            "text-anchor" : "middle",
            x: function(d, i){return i *(w/dataset.length)+(w/dataset.length-padding)/2;},
            y: function(d){return h-(d*4)+20;},
            "font-size": 12,
            "fill": "white"
        })
    </script>
</body>

</html>